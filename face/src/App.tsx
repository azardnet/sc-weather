import Search from "./components/Search";
import { useEffect, useState } from "react";
import WeatherData from "./components/WeatherData";
import { AppWrapper } from "./styled";

const OPEN_WEATHER_KEY = import.meta.env.VITE_OPENWEATHER;

function App() {
  const [data, setData] = useState({ loading: false, response: {} });

  const Fetch = (input: string) => {
    setData({ loading: true, response: {} });
    (async function () {
      const response = await fetch(
        `
https://api.openweathermap.org/data/2.5/weather?lang=en&q=${input}&APPID=${OPEN_WEATHER_KEY}&units=metric`
      );

      const json = await response.json();
      setData({ loading: false, response: json });
    })();
  };

  useEffect(() => {
    Fetch("Tehran");
  }, []);

  const onSubmit = (input: string) => {
    Fetch(input);
  };

  return (
    <AppWrapper>
      {/* <div>SC-weather</div>
      <Search onSubmit={onSubmit} />
      <WeatherData />
      {data.loading ? (
        "Loading"
      ) : (
        <pre>
          {Object.keys(data.response).length === 0
            ? ""
            : JSON.stringify(data.response, null, 4)}
        </pre>
      )} */}
      <div className="t-main">
        <header>
          <img
            src="https://azardnet.github.io/sc-weather/img/gb.35dbacd736781608964ae37a3b390b48.svg"
            width={18}
            height={18}
            alt="uk"
          />
          <h1>Liverpool</h1>
          <button onClick={() => alert("search")}>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 14 100"
              fill="none"
              x="0px"
              y="0px"
            >
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M0 0H14V14H0V0ZM0 38H14V52H0V38ZM14 76H0V90H14V76Z"
                fill="black"
              />
            </svg>
          </button>
        </header>
        <section>
          <div className="temperature">
            <div className="feels-like">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 53 85"
                x="0px"
                y="0px"
              >
                <path
                  fill="#000000"
                  d="M219,1031.29131 L219,1023.9962 C219,1020.68537 221.690006,1018 225,1018 C228.313372,1018 231,1020.68392 231,1023.9962 L231,1031.29131 C232.8833,1032.9753 234,1035.39489 234,1038 C234,1042.97056 229.970563,1047 225,1047 C220.029437,1047 216,1042.97056 216,1038 C216,1035.39489 217.1167,1032.9753 219,1031.29131 Z M223,1032.25469 C223,1032.90849 222.680436,1033.52102 222.144196,1033.89506 C220.809431,1034.82609 220,1036.34323 220,1038 C220,1040.76142 222.238576,1043 225,1043 C227.761424,1043 230,1040.76142 230,1038 C230,1036.34323 229.190569,1034.82609 227.855804,1033.89506 C227.319564,1033.52102 227,1032.90849 227,1032.25469 L227,1023.9962 C227,1022.89397 226.105134,1022 225,1022 C223.897601,1022 223,1022.89605 223,1023.9962 L223,1032.25469 Z M197,1082 L197,1069 C197,1068.44772 196.552285,1068 196,1068 L194,1068 C193.447715,1068 193,1068.44772 193,1069 L193,1082 C193,1083.10457 192.104569,1084 191,1084 L187,1084 C185.895431,1084 185,1083.10457 185,1082 L185,1065 L183,1065 C181.895431,1065 181,1064.10457 181,1063 L181,1046 C181,1041.58172 184.581722,1038 189,1038 L201,1038 C205.418278,1038 209,1041.58172 209,1046 L209,1063 C209,1064.10457 208.104569,1065 207,1065 L205,1065 L205,1082 C205,1083.10457 204.104569,1084 203,1084 L199,1084 C197.895431,1084 197,1083.10457 197,1082 Z M195,1034 C190.029437,1034 186,1029.97056 186,1025 C186,1020.02944 190.029437,1016 195,1016 C199.970563,1016 204,1020.02944 204,1025 C204,1029.97056 199.970563,1034 195,1034 Z"
                  transform="translate(-181 -1016)"
                />
              </svg>
              <div className="value">
                <strong>27.1</strong>
                <span>째C</span>
              </div>
            </div>
            <div className="main-value">
              <strong>26.6</strong>
              <span>째C</span>
            </div>
            <h3 className="weather-state">few clouds</h3>
            <div className="max-min">
              <span>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  version="1.1"
                  x="0px"
                  y="0px"
                  viewBox="0 0 100 100"
                >
                  <path
                    fill="#ffffff"
                    d="M50,100c-0.6,0-1-0.4-1-1V2.2c-0.2,0.1-0.4,0.2-0.5,0.4L10.3,40.8c-0.4,0.4-1,0.4-1.4,0s-0.4-1,0-1.4L47.1,1.2  C47.8,0.4,48.9,0,50,0c1.1,0,2.2,0.4,2.9,1.2l38.1,38.1c0.4,0.4,0.4,1,0,1.4s-1,0.4-1.4,0L51.5,2.6c-0.2-0.2-0.3-0.3-0.5-0.4V99  C51,99.6,50.6,100,50,100z"
                  />
                </svg>
                <div>
                  <strong>27.2</strong>
                  <span>째C</span>
                </div>
              </span>
              <span>
                <svg
                  style={{transform: 'rotate3d(1, 0, 0, 180deg)'}}
                  xmlns="http://www.w3.org/2000/svg"
                  version="1.1"
                  x="0px"
                  y="0px"
                  viewBox="0 0 100 100"
                >
                  <path
                    fill="#ffffff"
                    d="M50,100c-0.6,0-1-0.4-1-1V2.2c-0.2,0.1-0.4,0.2-0.5,0.4L10.3,40.8c-0.4,0.4-1,0.4-1.4,0s-0.4-1,0-1.4L47.1,1.2  C47.8,0.4,48.9,0,50,0c1.1,0,2.2,0.4,2.9,1.2l38.1,38.1c0.4,0.4,0.4,1,0,1.4s-1,0.4-1.4,0L51.5,2.6c-0.2-0.2-0.3-0.3-0.5-0.4V99  C51,99.6,50.6,100,50,100z"
                  />
                </svg>
                <div>
                  <strong>20.9</strong>
                  <span>째C</span>
                </div>
              </span>
            </div>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
              <defs>
                <clipPath id="a">
                  <path
                    fill="none"
                    d="M12 35l-5.28-4.21-2-6 1-7 4-5 5-3h6l5 1 3 3L33 20l-6 4h-6l-3 3v4l-4 2-2 2z"
                  />
                </clipPath>
              </defs>
              <g clipPath="url(#a)">
                <g>
                  <path
                    fill="none"
                    stroke="#f59e0b"
                    strokeLinecap="round"
                    strokeMiterlimit="10"
                    strokeWidth="2"
                    d="M23.5 24a4.5 4.5 0 11-4.5-4.5 4.49 4.49 0 014.5 4.5zM19 15.67V12.5m0 23v-3.17m5.89-14.22l2.24-2.24M10.87 32.13l2.24-2.24m0-11.78l-2.24-2.24m16.26 16.26l-2.24-2.24M7.5 24h3.17m19.83 0h-3.17"
                  />
                  <animateTransform
                    attributeName="transform"
                    dur="45s"
                    from="0 19 24"
                    repeatCount="indefinite"
                    to="360 19 24"
                    type="rotate"
                  />
                </g>
              </g>
              <path
                fill="none"
                stroke="#e5e7eb"
                strokeLinecap="round"
                strokeLinejoin="round"
                strokeWidth="3"
                d="M43.67 45.5h2.83a7 7 0 000-14h-.32a10.49 10.49 0 00-19.11-8 7 7 0 00-10.57 6 7.21 7.21 0 00.1 1.14A7.5 7.5 0 0018 45.5a4.19 4.19 0 00.5 0v0"
              />
              <g>
                <path
                  fill="none"
                  stroke="#2885c7"
                  strokeLinecap="round"
                  strokeMiterlimit="10"
                  strokeWidth="2"
                  d="M24.39 43.03l-.78 4.94"
                />
                <animateTransform
                  attributeName="transform"
                  dur="0.7s"
                  repeatCount="indefinite"
                  type="translate"
                  values="1 -5; -2 10"
                />
                <animate
                  attributeName="opacity"
                  dur="0.7s"
                  repeatCount="indefinite"
                  values="0;1;1;0"
                />
              </g>
              <g>
                <path
                  fill="none"
                  stroke="#2885c7"
                  strokeLinecap="round"
                  strokeMiterlimit="10"
                  strokeWidth="2"
                  d="M31.39 43.03l-.78 4.94"
                />
                <animateTransform
                  attributeName="transform"
                  begin="-0.4s"
                  dur="0.7s"
                  repeatCount="indefinite"
                  type="translate"
                  values="1 -5; -2 10"
                />
                <animate
                  attributeName="opacity"
                  begin="-0.4s"
                  dur="0.7s"
                  repeatCount="indefinite"
                  values="0;1;1;0"
                />
              </g>
              <g>
                <path
                  fill="none"
                  stroke="#2885c7"
                  strokeLinecap="round"
                  strokeMiterlimit="10"
                  strokeWidth="2"
                  d="M38.39 43.03l-.78 4.94"
                />
                <animateTransform
                  attributeName="transform"
                  begin="-0.2s"
                  dur="0.7s"
                  repeatCount="indefinite"
                  type="translate"
                  values="1 -5; -2 10"
                />
                <animate
                  attributeName="opacity"
                  begin="-0.2s"
                  dur="0.7s"
                  repeatCount="indefinite"
                  values="0;1;1;0"
                />
              </g>
            </svg>
          </div>
        </section>
        <section>
          <div className="temp-more-details">
            <div>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                version="1.1"
                viewBox="0 0 110.0 100"
                width={30}
                height={30}
              >
                <g>
                  <path d="m6 46.16h53.238c4.7812 0 8.8008-1.5703 11.629-4.5391 2.75-2.8906 4.1406-6.9609 3.9102-11.449-0.32031-6.3086-5-12.512-13.398-12.191-6.5898 0.26953-11.738 5.8516-11.48 12.441 0.10156 2.6094 1.2188 5.0195 3.1406 6.7891 1.9219 1.7695 4.4102 2.6914 7.0195 2.5781 2.1406-0.089843 4.1211-1 5.5703-2.5781 1.4492-1.5703 2.1992-3.6211 2.1211-5.7617-0.070312-1.7695-0.82812-3.3984-2.1211-4.6016-1.2891-1.1992-2.9805-1.8203-4.75-1.75-1.4688 0.058594-2.8203 0.69141-3.8203 1.7617-0.98828 1.0781-1.5117 2.4805-1.4492 3.9492 0.10156 2.5312 2.2812 4.5391 4.7812 4.3984 2.1406-0.089843 3.8008-1.8906 3.7188-4.0312-0.019531-0.55078-0.46094-0.98047-1.0391-0.96094-0.55078 0.019531-0.98047 0.48828-0.96094 1.0391 0.039063 1.0312-0.76953 1.9102-1.8008 1.9492-0.69141 0.03125-1.3516-0.21875-1.8594-0.69141-0.51172-0.46875-0.80859-1.1094-0.82812-1.8008-0.039063-0.92969 0.28906-1.8203 0.92188-2.5117 0.62891-0.69141 1.4883-1.0781 2.4297-1.1211 1.2188-0.050781 2.4102 0.37891 3.3203 1.2188 0.91016 0.83984 1.4297 1.9688 1.4805 3.2109 0.058593 1.6094-0.5 3.1406-1.5898 4.3203s-2.5781 1.8711-4.1797 1.9297c-2.0703 0.078126-4.0586-0.64844-5.5781-2.0508-1.5195-1.3984-2.4102-3.3281-2.5-5.3984-0.10938-2.6602 0.82812-5.1992 2.6289-7.1602 1.8086-1.9609 4.2695-3.0898 6.9297-3.1992 7.0586-0.28125 11.051 4.9609 11.32 10.289 0.19922 3.9414-1 7.4883-3.3711 9.9805-2.4414 2.5586-5.9609 3.9219-10.18 3.9219l-53.254 0.007813c-0.55078 0-1 0.44922-1 1 0 0.55078 0.44922 1 1 1z" />
                  <path d="m59.238 53.84h-53.238c-0.55078 0-1 0.44922-1 1 0 0.55078 0.44922 1 1 1h53.238c4.2188 0 7.7383 1.3516 10.18 3.9219 2.3711 2.4883 3.5586 6.0312 3.3711 9.9805-0.26953 5.3281-4.2617 10.559-11.32 10.289-5.4883-0.21875-9.7812-4.8711-9.5586-10.359 0.078125-2.0781 0.96875-3.9883 2.5-5.3984 1.5312-1.4102 3.5117-2.1406 5.5781-2.0508 3.3203 0.12891 5.9102 2.9414 5.7695 6.2617-0.050781 1.2305-0.57812 2.3711-1.4805 3.2109-0.91016 0.83984-2.1016 1.2617-3.3203 1.2188-0.92969-0.039062-1.7891-0.44141-2.4297-1.1211-0.62891-0.69141-0.96094-1.5781-0.92188-2.5117 0.058593-1.4297 1.2695-2.5508 2.6992-2.4883 1.0312 0.039062 1.8398 0.92188 1.8008 1.9492-0.019531 0.55078 0.41016 1.0195 0.96094 1.0391 0.57031 0.019531 1.0195-0.41016 1.0391-0.96094 0.089843-2.1406-1.5781-3.9414-3.7188-4.0312-2.5312-0.12109-4.6719 1.8711-4.7812 4.4102-0.058594 1.4688 0.46094 2.8711 1.4492 3.9492 0.98828 1.0781 2.3516 1.6992 3.8203 1.7617 1.7695 0.078125 3.4492-0.55078 4.75-1.75 1.3008-1.1992 2.0508-2.8281 2.1211-4.6016 0.089844-2.1406-0.67188-4.1914-2.1211-5.7617s-3.4297-2.4883-5.5703-2.5781c-5.3984-0.19922-9.9414 3.9883-10.16 9.3711-0.26953 6.5898 4.8789 12.18 11.48 12.441 0.21875 0 0.44141 0.011719 0.64844 0.011719 7.9688 0 12.441-6.0508 12.75-12.199 0.23047-4.5-1.1719-8.5586-3.9102-11.449-2.8203-2.9688-6.8398-4.5391-11.629-4.5391z" />
                  <path d="m93.039 33.531c-1.5703-2.0898-3.8516-3.4414-6.4414-3.8086-2.1211-0.30078-4.2305 0.23828-5.9492 1.5195-1.7109 1.2891-2.8203 3.1602-3.1289 5.2812-0.25 1.75 0.19922 3.4883 1.2617 4.8984 1.0586 1.4102 2.6094 2.3281 4.3594 2.5781 1.4609 0.21094 2.8984-0.16016 4.0703-1.0391 1.1719-0.87891 1.9297-2.1719 2.1406-3.6211 0.17188-1.2109-0.14062-2.4219-0.87109-3.4102-0.73828-0.98047-1.8086-1.6211-3.0312-1.7891-1.0312-0.14844-2.0391 0.12109-2.8711 0.73828-0.82812 0.62109-1.3594 1.5312-1.5117 2.5508-0.078125 0.55078 0.30078 1.0508 0.85156 1.1289 0.53906 0.070312 1.0508-0.30078 1.1289-0.85156 0.070313-0.5 0.32812-0.92969 0.73047-1.2383 0.39844-0.30078 0.89062-0.42969 1.3906-0.35938 0.69141 0.10156 1.2891 0.46094 1.7109 1.0117 0.42188 0.55078 0.58984 1.2383 0.48828 1.9219-0.26953 1.9102-2.0391 3.2305-3.9492 2.9609-2.5195-0.35938-4.2812-2.6992-3.9219-5.2188 0.23047-1.5898 1.0586-3 2.3516-3.9688 1.2891-0.96094 2.8711-1.3711 4.4609-1.1406 2.0586 0.28906 3.8789 1.3711 5.1211 3.0312 1.25 1.6602 1.7695 3.7109 1.4805 5.7617-0.87891 6.1406-6.7109 8.3906-11.43 8.4492-22.262 0.28906-46.539 0-46.781 0-0.53906 0-1 0.44141-1.0117 0.98828 0 0.55078 0.44141 1.0117 0.98828 1.0117 0.16016 0 10.961 0.12891 24.73 0.12891 6.9414 0 14.629-0.03125 22.102-0.12891 7.1484-0.089844 12.531-4.1797 13.379-10.172 0.37109-2.5781-0.28906-5.1602-1.8594-7.25z" />
                </g>
              </svg>
              3.09 km/h
            </div>
            <div>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" x="0px" y="0px"><path d="M50.61807,26.718a47.9407,47.9407,0,0,0-7.09757-8.911C33.94836,7.851,33.05824,5.13231,32.99379,4.88671a1.00009,1.00009,0,0,0-1.98728,0c-.06446.2456-.95458,2.96431-10.52672,12.91975a47.95133,47.95133,0,0,0-7.09738,8.91138C4.86324,41.39367,14.7273,60.13207,32.00015,59.99926,49.27256,60.13537,59.13632,41.39007,50.61807,26.718ZM23.98243,56.381C13.042,52.01237,9.10213,37.6386,15.11365,27.7199a46.09087,46.09087,0,0,1,6.80753-8.52723c6.0673-6.31,8.83191-9.89733,10.079-11.90658,1.24705,2.00925,4.01166,5.59661,10.079,11.90707a46.075,46.075,0,0,1,6.80746,8.52662C58.49223,44.90431,42.359,63.76551,23.98243,56.381Z"/><path d="M47.07954,45.72113a1.00181,1.00181,0,0,0-1.35643.39843,14.742,14.742,0,0,1-7.2626,6.578,16.5163,16.5163,0,0,1-6.46036,1.30174,1,1,0,0,0,0,2,18.49568,18.49568,0,0,0,7.23916-1.45995,16.72381,16.72381,0,0,0,8.23915-7.46084A1.00048,1.00048,0,0,0,47.07954,45.72113Z"/><path d="M29.50018,31.99963a3.5,3.5,0,1,0-3.5,3.5A3.5042,3.5042,0,0,0,29.50018,31.99963Zm-3.5,1.5a1.5,1.5,0,1,1,1.5-1.5A1.50163,1.50163,0,0,1,26.00023,33.49961Z"/><path d="M34.50011,39.99953a3.5,3.5,0,1,0,3.5-3.5A3.5042,3.5042,0,0,0,34.50011,39.99953Zm3.5-1.5a1.5,1.5,0,1,1-1.5,1.5A1.50162,1.50162,0,0,1,38.00007,38.49955Z"/><path d="M36.44735,27.10516a.99927.99927,0,0,0-1.34178.44726L27.10568,43.55221a1.0001,1.0001,0,0,0,1.789.89452l7.99989-15.99979A1,1,0,0,0,36.44735,27.10516Z"/></svg>
              44%
            </div>
          </div>
        </section>
      </div>
    </AppWrapper>
  );
}

export default App;
